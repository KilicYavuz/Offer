function floatToString(t,e){var a=t.toFixed(e).toString();return a.match(/^\.\d+/)?"0"+a:a}function attributeToString(t){return"string"!=typeof t&&("undefined"===(t+="")&&(t="")),jQuery.trim(t)}$=$jqMolla,void 0===window.Shopify&&(window.Shopify={}),Shopify.KT_onError=function(e,t){var n=eval("("+e.responseText+")");n.message?alert(n.message+"("+n.status+"): "+n.description):alert("Error : "+Shopify.KT_fullMessagesFromErrors(n).join("; ")+".")},Shopify.KT_fullMessagesFromErrors=function(t){var e=[];return jQuery.each(t,function(t,a){jQuery.each(a,function(a,r){e.push(t+" "+r)})}),e},Shopify.KT_onCartUpdate=function(t,e){Shopify.KT_onCartUpdate_(t,e)},Shopify.KT_onCartShippingRatesUpdate=function(t,e){e.zip&&e.zip,e.province&&e.province,e.country},Shopify.KT_onItemAdded=function(t){Shopify.KT_getCart()},Shopify.KT_formatMoney=function(t,e){function a(t,e){return void 0===t?e:t}function r(t,e,r,n){if(e=a(e,2),r=a(r,","),n=a(n,"."),isNaN(t)||null==t)return 0;var o=(t=(t/100).toFixed(e)).split(".");return o[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+r)+(o[1]?n+o[1]:"")}"string"==typeof t&&(t=t.replace(".",""));var n="",o=/\{\{\s*(\w+)\s*\}\}/,i=e||this.money_format;switch(i.match(o)[1]){case"amount":n=r(t,2);break;case"amount_no_decimals":n=r(t,0);break;case"amount_with_comma_separator":n=r(t,2,".",",");break;case"amount_with_space_separator":n=r(t,2," ",",");break;case"amount_with_period_and_space_separator":n=r(t,2," ",".");break;case"amount_no_decimals_with_comma_separator":n=r(t,0,".",",");break;case"amount_no_decimals_with_space_separator":n=r(t,0,".","");break;case"amount_with_space_separator":n=r(t,2,",","");break;case"amount_with_apostrophe_separator":n=r(t,2,"'",".")}return i.replace(o,n)},Shopify.KT_addItem=function(t,e,a){var r=t,n={type:"POST",url:"/cart/add.js",data:"quantity="+(e=e||1)+"&id="+t,dataType:"json",success:function(t){"function"==typeof a?a(r,t):Shopify.KT_onItemAdded(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(n)},Shopify.KT_addItems=function(t,e){var a={type:"POST",url:"/cart/add.js",data:{items:t},dataType:"json",success:function(a){"function"==typeof e?e(t):Shopify.KT_onItemAdded(a)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(a)},Shopify.KT_addItemFromForm=function(t,e){var a={type:"POST",url:"/cart/add.js",data:jQuery("#"+t).serialize(),dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onItemAdded(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(a)},Shopify.KT_addItemFromFormAddMore=function(t){let e=[];$(t+' [name="quantity"]').each(function(){e.push({id:parseInt($(this).attr("data-id")),quantity:parseInt($(this).val(),10)||0})});var a={type:"POST",url:"/cart/add.js",data:{items:e},dataType:"json",success:function(t){Shopify.KT_getCart()},error:function(t){alert("error")}};$.ajax(a)},Shopify.KT_getCart=function(t){jQuery.getJSON("/cart.js",function(e,a){"function"==typeof t?t(e):Shopify.KT_onCartUpdate(e)})},Shopify.KT_pollForCartShippingRatesForDestination=function(t,e,a){a=a||Shopify.KT_onError;var r={url:"/cart/async_shipping_rates",type:"GET"};jQuery.ajax(r).done(function(a,n,o){200===o.status?"function"==typeof e?e(a.shipping_rates,t):Shopify.KT_onCartShippingRatesUpdate(a.shipping_rates,t):setTimeout(r,500)}).fail(function(t,e){a(t,e)})},Shopify.KT_getCartShippingRatesForDestination=function(t,e,a){a=a||Shopify.KT_onError,jQuery.ajax({url:"/cart/shipping_rates.json",type:"GET",data:Shopify.KT_param({shipping_address:t})}).done(function(a){e(a.shipping_rates,t)}).fail(function(t,e){a(t,e)})},Shopify.KT_changeItem=function(t,e,a){var r=t,n={type:"POST",url:"/cart/change.js",data:"quantity="+e+"&id="+t,dataType:"json",success:function(t){"function"==typeof a?a(r,t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(n)},Shopify.KT_removeItem=function(t,e){var a=t,r={type:"POST",url:"/cart/change.js",data:"quantity=0&id="+t,dataType:"json",success:function(t){"function"==typeof e?e(a,t,"remove item"):Shopify.KT_onCartUpdate(t,"remove item")},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(r)},Shopify.KT_clear=function(t){var e={type:"POST",url:"/cart/clear.js",data:"",dataType:"json",success:function(e){"function"==typeof t?t(e):Shopify.KT_onCartUpdate(e)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(e)},Shopify.KT_updateCartFromForm=function(t,e){var a={type:"POST",url:"/cart/update.js",data:jQuery("#"+t).serialize(),dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(a)},Shopify.KT_updateCartAttributes=function(t,e){var a="";jQuery.isArray(t)?jQuery.each(t,function(t,e){var r=attributeToString(e.key);""!==r&&(a+="attributes["+r+"]="+attributeToString(e.value)+"&")}):"object"==typeof t&&null!==t&&jQuery.each(t,function(t,e){a+="attributes["+attributeToString(t)+"]="+attributeToString(e)+"&"});var r={type:"POST",url:"/cart/update.js",data:a,dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(r)},Shopify.KT_updateCartNote=function(t,e){var a={type:"POST",url:"/cart/update.js",data:"note="+attributeToString(t),dataType:"json",success:function(t){"function"==typeof e?e(t):Shopify.KT_onCartUpdate(t)},error:function(t,e){Shopify.KT_onError(t,e)}};jQuery.ajax(a)},Shopify.KT_updatedCartNote=function(t){$(".note__cart-drawer .title").show(),$(".note__cart-drawer .update").hide()},jQuery.fn.jquery>="1.4"?Shopify.KT_param=jQuery.param:(Shopify.KT_param=function(t){var e=[],a=function(t,a){a=jQuery.isFunction(a)?a():a,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(a)};if(jQuery.isArray(t)||t.jquery)jQuery.each(t,function(){a(this.name,this.value)});else for(var r in t)Shopify.KT_buildParams(r,t[r],a);return e.join("&").replace(/%20/g,"+")},Shopify.KT_buildParams=function(t,e,a){jQuery.isArray(e)&&e.length?jQuery.each(e,function(e,r){rbracket.test(t)?a(t,r):Shopify.KT_buildParams(t+"["+("object"==typeof r||jQuery.isArray(r)?e:"")+"]",r,a)}):null!=e&&"object"==typeof e?Shopify.KT_isEmptyObject(e)?a(t,""):jQuery.each(e,function(e,r){Shopify.KT_buildParams(t+"["+e+"]",r,a)}):a(t,e)},Shopify.KT_isEmptyObject=function(t){for(var e in t)return!1;return!0}),$(document).on("click",".addItemAjax",function(t){t.preventDefault();let e=$(this),a=e.attr("data-vrid"),r=1,n=e.parents('form[action="/cart/add"]');e.find(".addItemAjax-text").attr("data-prev-text",e.find(".addItemAjax-text").text()).addClass("waitting-text-change"),n.length>0&&(n.find('[name="id"]').length>0&&(a=n.find('[name="id"]').val()),n.find('[name="quantity"]').length>0&&(r=n.find('[name="quantity"]').val())),Shopify.KT_addItem(a,r)}).on("click",".addItemsAjax",function(t){t.preventDefault(),Shopify.KT_addItemFromFormAddMore("#amShowUp")}).on("click",".note__cart-drawer .update",function(){Shopify.KT_updateCartNote($("#CartSpecialInstructions").val(),Shopify.KT_updatedCartNote)}),Shopify.KT_onCartUpdate_=function(t,e){$(".prefetch-cart").remove(),$("head link").first().after('<link class="prefetch-cart" rel="prefetch" href="/cart">');var a=$(".ajax__list-cart");$(".cartCount").text(t.item_count),$(".cartCost").attr("data-price",t.total_price).html(theme.Currency.formatMoney(t.total_price,theme.moneyFormat)),$(".title.has-item").html(1==t.item_count?theme.strings.cartItem.split("(")[0]+"("+t.item_count+" item)"+theme.strings.cartItem.split(")")[1]:theme.strings.cartItems.split("(")[0]+"("+t.item_count+" items)"+theme.strings.cartItems.split(")")[1]),$(".btn.loading, .kt-button.loading").removeClass("loading"),$(".waitting-text-change").text(theme.strings.addedToCart),$(".mini-cart .icon-link").removeClass("load");var r;"drop"===theme.function.ajax_cart&&!1===(r=!1,!1!==theme.function.sticky_icon_cart&&($(".cartCount:not(.fixed)").each(function(t,e){if(this.getBoundingClientRect().top>1&&(r=!0),e+1===$(".cartCount:not(.fixed)").length)return!1}),r))&&($("body").addClass("popIn"),anime({targets:".cartCount.fixed",keyframes:[{backgroundColor:"#fff",color:"#555",scale:1.25,rotate:-45,borderRadius:15},{backgroundColor:"#111",color:"#fff",scale:1,rotate:0,borderRadius:50}],duration:2e3,delay:100,easing:"easeOutElastic(1, .8)",complete:function(t){$(".cartCount.fixed").removeAttr("style")}}));var n="/cart?view=listjsondrop";if("drawer"==theme.function.ajax_cart&&(n="/cart?view=listjson"),"popup"==theme.function.ajax_cart&&(n="/cart?view=listjsonpopup"),theme.function.cart_shipping_calculator){if(void 0!==$(".get__shipping").attr("data-curr-address")&&t.item_count>0&&($(".get__shipping").show(),$("#address_country option").length>0)){var o=JSON.parse($(".get__shipping").attr("data-curr-address"));Shopify.KT_getCartShippingRatesForDestination(o,Shopify.Cart.getShippingCart,Shopify.Cart.onError)}"drawer"==theme.function.ajax_cart&&$("#address_country option").length<=0&&Shopify.Cart.getCountry()}$.ajax({type:"get",url:n,beforeSend:function(){e||"drawer"!=theme.function.ajax_cart||(theme.is_mobile?$(".close-qs").trigger("touchstart"):$(".close-qs").trigger("click")),t.item_count>0?$(".has-item").is(":hidden")&&($(".has-item").css({display:""}),$(".no-item").css({display:"none"})):$(".no-item").is(":hidden")&&($(".has-item").css({display:"none"}),$(".no-item").css({display:""})),$("#myModal").length>0&&$("#myModal").modal("hide")},success:function(r){if(setTimeout(function(){$(".btn.adding").text(theme.strings.addToCart).removeClass("adding")},1e3),a.html(r).removeClass("loading"),e||"drawer"!=theme.function.ajax_cart||KT.drawOpen(),e||"popup"!=theme.function.ajax_cart||KT.popupOpen(),$(".spendFreeShip").length>0){var n=parseInt($(".spendFreeShip").find("[aria-valuemax]").attr("aria-valuemax")),o=$(".spendFreeShip").find(".progress-bar");n>t.total_price?(o.attr("aria-valuenow",n-t.total_price).css("width",t.total_price/n*100+"%").text(Math.round(t.total_price/n*100)+"%"),$(".spendFreeShip").removeClass("congratulations")):(o.attr("aria-valuenow",n).css("width","100%").text("100%"),$(".spendFreeShip").addClass("congratulations"))}$(".title-ajax__cart").html(1==t.item_count?theme.strings.cartItem.split("(")[0]+"("+t.item_count+" item)"+theme.strings.cartItem.split(")")[1]:theme.strings.cartItems.split("(")[0]+"("+t.item_count+" items)"+theme.strings.cartItems.split(")")[1]),1==theme.function.multiCurrency&&null!==localStorageCurrency&&localStorageCurrency!==shopCurrency&&Kt_currency.convertAll(shopCurrency,localStorageCurrency),$(".content__cart-drawer.loading").removeClass("loading")}})},void 0===Shopify.Cart&&(Shopify.Cart={}),Shopify.Cart.getShippingCart=function(t,e){$.ajax({type:"POST",url:"/cart.js",data:{"attributes[theme_shipping]":JSON.stringify(e)},dataType:"json"});let a=$(".get__shipping"),r=$(".content__shipping"),n=$(".cartCost"),o=$(".cartCostPlusShipping"),i=$(".address__shipping");a.attr("data-curr-address",JSON.stringify(e));let s="";if("1"!==e.zip&&(s+=e.zip+", "),e.province!==e.country&&(s+=e.province+", "),s+=e.country,i.html(s),0==t.length)r.html('<td colspan="2"><div class="alert alert-danger" role="alert">There are no shipping methods available for your cart or destination.</div></td>');else{let e='<td class="item__shipping" colspan="2">';$.each(t,function(t,a){if(e+='<div class="item_shipp">',e+='<div class="item_shipp_name custom-control custom-radio">',e+='<input id="item_spp'+t+'" class="custom-control-input" type="radio" name="shipping-cart-drawer" data-name="'+a.code+'" value="'+a.price+'" placeholder=""',e+=0==t?'checked="checked">':">",e+='<label class="content-item__shipping custom-control-label" for="item_spp'+t+'">',e+='<span class="name-item__shipping">'+a.name,a.delivery_days.length>0?(e+='</span><span class="delivery_days-item__shipping"> (',a.delivery_days.length>=2?e+=a.delivery_days[0]+"-"+a.delivery_days[1]+" days)</span>":e+=a.delivery_days[0]+" day)</span>"):e+="</span>",e+="</label>",null!==a.delivery_date){e+='<div class="data-item__shipping"> Get by it ';let t={weekday:"long",year:"numeric",month:"long",day:"numeric"},r=new Date(a.delivery_date);e+=r.toLocaleDateString("en-US",t),e+="</div>"}e+="</div>",e+='<div class="item_shipp_price">',e+='<span class="price-item__shipping">'+theme.Currency.formatMoney(100*a.price,theme.moneyFormat)+"</span>",e+="</div>",e+="</div>"}),e+="</td>",r.html(e).show()}r.css("opacity",""),$(".calculate__shipping").removeClass("loading"),$(".afterShip").show();let c=parseFloat(n.attr("data-price")),p=100*parseFloat(r.find('input[type="radio"][checked="checked"]').val());o.html(theme.Currency.formatMoney(c+p,theme.moneyFormat)),1==theme.function.multiCurrency&&null!==localStorageCurrency&&localStorageCurrency!==shopCurrency&&Kt_currency.convertAll(shopCurrency,localStorageCurrency),KT.drawResize()},Shopify.Cart.fullMessagesFromErrors=function(t){var e=[];return jQuery.each(t,function(t,a){jQuery.each(a,function(a,r){e.push(t+" "+r)})}),e},Shopify.Cart.onError=function(XMLHttpRequest,textStatus){var feedback="",data=eval("("+XMLHttpRequest.responseText+")");feedback=data.message?data.message+"("+data.status+"): "+data.description:"Error : "+Shopify.Cart.fullMessagesFromErrors(data).join("; ")+".","Error : country is not supported."===feedback&&(feedback="We do not ship to this destination."),$(".content__shipping").html(feedback),$(".calculate__shipping").addClass("error").removeClass("loading")},Shopify.Cart.alert=function(t,e,a){console.log(t)},Shopify.Cart.getCountry=function(){if("undefined"!=typeof Storage&&void 0!==sessionStorage.dataCountry)return $("#address_country").html(sessionStorage.dataCountry),void Shopify.Cart.buildCountry();jQuery.ajax({url:"/cart?view=listcountry",type:"GET",dataType:"html",complete:function(t,e){},success:function(t,e,a){$("#address_country").html(t),sessionStorage.dataCountry=t,Shopify.Cart.buildCountry()},error:function(t,e,a){}})},Shopify.Cart.buildCountry=function(){void 0!==$('[name="address[country]"]').attr("data-default")&&$('[name="address[country]"]').val($('[name="address[country]"] option[value="'+$('[name="address[country]"]').attr("data-default")+'"]').val());$('[name="address[country]"] option:selected').html();if("[]"!==(t=$('[name="address[country]"] option:selected').attr("data-provinces"))){var t=JSON.parse($('[name="address[country]"] option:selected').attr("data-provinces")),e=$('[name="address[province]"]').attr("data-default"),a="";$.each(t,function(t,r){void 0!==e&&r[0]==e?($('[data-select="#address__province"]').html(r[1]),a+='<option selected="selected" value="'+r[0]+'">'+r[1]+"</option>"):0==t&&($('[data-select="#address__province"]').html(r[1]),a+='<option selected="selected" value="'+r[0]+'">'+r[1]+"</option>"),a+='<option value="'+r[0]+'">'+r[1]+"</option>"}),$('[name="address[province]"]').html(a).parent().show()}else $('[name="address[province]"]').html("").parent().hide(),$('[name="address[zip]"]').parent();if(void 0!==$(".get__shipping").attr("data-curr-address")){var r=JSON.parse($(".get__shipping").attr("data-curr-address"));Shopify.KT_getCartShippingRatesForDestination(r,Shopify.Cart.getShippingCart,Shopify.Cart.onError)}},$(document).on("change",'[name="address[country]"]',function(){let t=$('[name="address[country]"] option:selected').html(),e=$(this).find("option:selected").attr("data-provinces");if($(this).parent().find(".label_hidden_select").html(t),"[]"!==e){let t=JSON.parse($(this).find("option:selected").attr("data-provinces")),e=$('[name="address[province]"]').attr("data-default"),a="";$.each(t,function(t,r){void 0!==e&&r[0]==e?($('[data-select="#address__province"]').html(r[1]),a+='<option selected="selected" value="'+r[0]+'">'+r[1]+"</option>"):0==t&&($('[data-select="#address__province"]').html(r[1]),a+='<option selected="selected" value="'+r[0]+'">'+r[1]+"</option>"),a+='<option value="'+r[0]+'">'+r[1]+"</option>"}),$('[name="address[province]"]').html(a).parent().show(),$('[name="address[zip]"]').val("").parent().show()}else $('[name="address[province]"]').html("").parent().hide(),$('[name="address[zip]"]').parent();KT.drawResize()}).on("change",'[name="address[province]"]',function(){let t=$('[name="address[province]"] option:selected').html();$(this).parent().find(".label_hidden_select").html(t),KT.drawResize()}).on("click",".calculate__shipping",function(){let t={zip:$('[name="address[zip]"]').val(),country:$('[name="address[country]"]').val(),province:null!==$('[name="address[province]"]').val()?$('[name="address[province]"]').val():$('[name="address[country]"]').val()};JSON.stringify(t)!==$(".get__shipping").attr("data-curr-address")&&Shopify.KT_getCartShippingRatesForDestination(t,Shopify.Cart.getShippingCart,Shopify.Cart.onError)}).on("change",'[name="shipping-cart-drawer"]',function(){let t=parseFloat($(".cartCost").attr("data-price")),e=100*parseFloat($(this).val());$(".show__shipping-price").html(theme.Currency.formatMoney(e,theme.moneyFormat)),$(".cartCostPlusShipping").html(theme.Currency.formatMoney(t+e,theme.moneyFormat)),1==theme.function.multiCurrency&&null!==localStorageCurrency&&localStorageCurrency!==shopCurrency&&Kt_currency.convertAll(shopCurrency,localStorageCurrency)}),document.addEventListener("DOMContentLoaded",function(t){$("#address_country").length>0&&$("body.template-cart").length>0&&("undefined"!=typeof Storage&&void 0!==sessionStorage.dataCountry?($("#address_country").html(sessionStorage.dataCountry),Shopify.Cart.buildCountry()):Shopify.Cart.getCountry())});