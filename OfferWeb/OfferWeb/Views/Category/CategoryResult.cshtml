@using OfferWeb.Models
@model CategoryResultVM

@{
    ViewBag.Title = "CategoryResult";
}
<style>
    .selector {
        position: relative;
        padding: 20px;
        width: 400px;
        color: #fff9ff;
    }

        .selector ul {
            position: relative;
            display: block;
            overflow: auto;
            min-width: 138px;
            max-height: 200px;
            background: #fff;
            list-style: none;
            white-space: inherit;
            padding-right: 17px;
            width: calc(100% + 17px)
        }

        .selector li {
            position: relative;
            padding: 3px 20px 3px 25px;
            cursor: pointer
        }

            .selector li:before {
                position: absolute;
                top: 50%;
                left: 0;
                top: 4px;
                display: inline-block;
                margin-right: 9px;
                width: 17px;
                height: 17px;
                background-color: #f4f4f4;
                border: 1px solid #d5d5d5;
                content: ""
            }

            .selector li[data-selected="1"]:before {
                border: 1px solid #d7d7d7;
                background-color: #fff
            }

            .selector li[data-selected="1"]:after {
                position: absolute;
                top: 50%;
                left: 3px;
                top: 11px;
                display: inline-block;
                width: 4px;
                height: 10px;
                border-right: 2px solid;
                border-bottom: 2px solid;
                background: none;
                color: #39c9a9;
                content: "";
                -webkit-transform: rotate(40deg) translateY(-50%);
                transform: rotate(40deg) translateY(-50%)
            }

            .selector li:hover {
                color: #aaa
            }

            .selector li .total {
                position: absolute;
                right: 0;
                color: #d7d7d7
            }

        .selector .price-slider {
            width:50%;
            text-align: center;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-pack: justify;
            -ms-flex-pack: justify;
            justify-content: space-between;
            -webkit-box-align: center;
            -ms-flex-align: center;
            align-items: center;
            position: relative;
            padding-top: 17px
        }


            .selector .price-slider:before {
                position: absolute;
                top: 50%;
                left: 0;
                margin-top: 0;
                /*color: #39c9a9;*/
                content: attr(data-currency);
                -webkit-transform: translateY(-50%);
                transform: translateY(-50%)
            }

        .selector #slider-range {
            width: 90%;
            margin-bottom: 30px;
            border: none;
            background: #e2f7f2;
            height: 3px;
            margin-left: 8px;
            margin-right: 8px
        }


        .selector .ui-slider-range {
            background-color: #d7d7d7
        }

        .selector .slider-price {
            position: relative;
            display: inline-block;
            padding: 5px 40px;
            width: 40%;
            background-color: #3399ff;
            line-height: 28px;
            text-align: center
        }

            .selector .slider-price:before {
                position: absolute;
                top: 50%;
                left: 13px;
                margin-top: 0;
                /*color: #39c9a9;*/
                content: attr(data-currency);
                -webkit-transform: translateY(-50%);
                transform: translateY(-50%)
            }

        .selector .show-all {
            position: relative;
            padding-left: 25px;
            color: #39c9a9;
            cursor: pointer;
            line-height: 28px
        }

            .selector .show-all:after, .selector .show-all:before {
                content: "";
                position: absolute;
                top: 50%;
                left: 4px;
                margin-top: -1px;
                color: #39c9a9;
                width: 10px;
                border-bottom: 1px solid
            }

            .selector .show-all:after {
                -webkit-transform: rotate(90deg);
                transform: rotate(90deg)
            }

        .selector.open ul {
            max-height: none
        }

        .selector.open .show-all:after {
            display: none
        }


    * {
        -webkit-box-sizing: border-box;
        -ms-box-sizing: border-box;
        box-sizing: border-box;
    }
</style>
<main class="main">
    @*<div class="page-header text-center" style="background-image: url('assets/images/page-header-bg.jpg')">
            <div class="container">
                <h1 class="page-title">Grid 4 Columns<span>Shop</span></h1>
            </div><!-- End .container -->
        </div><!-- End .page-header -->*@
    <nav aria-label="breadcrumb" class="breadcrumb-nav mb-2">
        <div class="container">
            <ol class="breadcrumb">
                @*<li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item"><a href="#">Shop</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Grid 4 Columns</li>*@
            </ol>
        </div><!-- End .container -->
    </nav><!-- End .breadcrumb-nav -->

    <div class="page-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-9">


                    <div class="products mb-3">
                        <div class="row justify-content-center">
                            @foreach (var product in Model.ProductList)
                            {

                                <div class="col-6 col-md-4 col-lg-4 col-xl-3">
                                    <div class="product product-7 text-center">
                                        <figure class="product-media">
                                            <a href="product.html">
                                                <img src="~/Assets/assets/images/products/product-15.jpg" alt="Product image" class="product-image">
                                            </a>

                                            <div class="product-action-vertical">
                                                <a href="#" class="btn-product-icon btn-wishlist btn-expandable"><span>favorilere ekle</span></a>
                                                @*<a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view"><span>Quick view</span></a>*@
                                            </div><!-- End .product-action-vertical -->

                                            <div class="product-action">
                                                <a href="#" class="btn-product btn-cart"><span>sepete ekle</span></a>
                                            </div><!-- End .product-action -->
                                        </figure><!-- End .product-media -->

                                        <div class="product-body">
                                            <div class="product-cat">
                                                <a href="#">@product.Category.Name</a>
                                            </div><!-- End .product-cat -->
                                            <h3 class="product-title"><a href="product.html">@product.Name</a></h3><!-- End .product-title -->
                                            <div class="product-price">
                                                @product.Price ₺
                                            </div><!-- End .product-price -->
                                        </div><!-- End .product-body -->
                                    </div><!-- End .product -->
                                </div><!-- End .col-sm-6 col-lg-4 col-xl-3 -->
                            }

                        </div><!-- End .row -->
                    </div><!-- End .products -->


                    <nav aria-label="Page navigation">
                        <ul class="pagination justify-content-center">
                            <li class="page-item disabled">
                                <a class="page-link page-link-prev" href="#" aria-label="Previous" tabindex="-1" aria-disabled="true">
                                    <span aria-hidden="true"><i class="icon-long-arrow-left"></i></span>Prev
                                </a>
                            </li>
                            <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
                            <li class="page-item"><a class="page-link" href="#">2</a></li>
                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                            <li class="page-item-total">of 6</li>
                            <li class="page-item">
                                <a class="page-link page-link-next" href="#" aria-label="Next">
                                    Next <span aria-hidden="true"><i class="icon-long-arrow-right"></i></span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div><!-- End .col-lg-9 -->
                <aside class="col-lg-3 order-lg-first">
                    <div class="sidebar sidebar-shop">
                        @*<div class="widget widget-clean">
                                <label>Filters:</label>
                                <a href="#" class="sidebar-filter-clear">Clean All</a>
                            </div>*@<!-- End .widget widget-clean -->
                        @if (Model.Category != null)
                        {
                            <div class="widget widget-collapsible">
                                <h3 class="widget-title">
                                    <a data-toggle="collapse" href="#widget-1" role="button" aria-expanded="true" aria-controls="widget-1">
                                        Kategoriler
                                    </a>
                                </h3><!-- End .widget-title -->

                                <div class="collapse show" id="widget-1">
                                    <div class="widget-body">
                                        <div class="filter-items filter-items-count">

                                            @if (Model.Category?.SubCategories.Count == 0)
                                            {
                                                <div class="filter-item">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="custom-control-input" id="cat-1">
                                                        <label class="custom-control-label" for="cat-1">@Model.Category.Name</label>
                                                    </div><!-- End .custom-checkbox -->
                                                    <span class="item-count">3</span>
                                                </div><!-- End .filter-item -->
                                            }
                                            else
                                            {
                                                foreach (var category in Model.Category?.SubCategories)
                                                {
                                                    <div class="filter-item">
                                                        <div class="custom-control custom-checkbox">
                                                            <input type="checkbox" class="custom-control-input" id="cat-1">
                                                            <label class="custom-control-label" for="cat-1">@category.Name</label>
                                                        </div><!-- End .custom-checkbox -->
                                                        <span class="item-count">3</span>
                                                    </div><!-- End .filter-item -->
                                                }

                                            }

                                        </div><!-- End .filter-items -->
                                    </div><!-- End .widget-body -->
                                </div><!-- End .collapse -->
                            </div><!-- End .widget -->
                        }
                        <div class="widget widget-collapsible">
                            <h3 class="widget-title">
                                <a data-toggle="collapse" href="#widget-2" role="button" aria-expanded="true" aria-controls="widget-2">
                                    Marka
                                </a>
                            </h3><!-- End .widget-title -->

                            <div class="collapse show" id="widget-2">
                                <div class="widget-body">
                                    <div class="filter-items">

                                        @foreach (var item in Model.ProductList.GroupBy(x => x.Brand.Name))
                                        {
                                            <div class="filter-item">
                                                <div class="custom-control custom-checkbox">
                                                    <input type="checkbox" class="custom-control-input" checked id="size-4">
                                                    <label class="custom-control-label" for="size-4">@item.Key</label>
                                                </div>
                                            </div>
                                        }



                                    </div><!-- End .filter-items -->
                                </div><!-- End .widget-body -->
                            </div><!-- End .collapse -->
                        </div><!-- End .widget -->
                        @*<div class="widget widget-collapsible">
                                <h3 class="widget-title">
                                    <a data-toggle="collapse" href="#widget-3" role="button" aria-expanded="true" aria-controls="widget-3">
                                        Colour
                                    </a>
                                </h3>

                                <div class="collapse show" id="widget-3">
                                    <div class="widget-body">
                                        <div class="filter-colors">
                                            <a href="#" style="background: #b87145;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" style="background: #f0c04a;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" style="background: #333333;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" class="selected" style="background: #cc3333;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" style="background: #3399cc;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" style="background: #669933;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" style="background: #f2719c;"><span class="sr-only">Color Name</span></a>
                                            <a href="#" style="background: #ebebeb;"><span class="sr-only">Color Name</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>*@



                        <div class="widget widget-collapsible">
                            <h3 class="widget-title">
                                <a data-toggle="collapse" href="#widget-5" role="button" aria-expanded="true" aria-controls="widget-5">
                                    Price
                                </a>
                            </h3><!-- End .widget-title -->

                            <div class="collapse show" id="widget-5">
                                <div class="widget-body">
                                    <div class="filter-price">
                                        <div class="filter-price-text">
                                            Price Range:
                                            <span id="filter-price-range"></span>
                                        </div><!-- End .filter-price-text -->

                                        <div class="selector">
                                            <div class="price-slider">
                                                <div id="slider-range" class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content">
                                                    <div class="ui-slider-range ui-corner-all ui-widget-header"></div>
                                                    <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span><span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default"></span>
                                                </div>
                                                <span id="min-price" data-currency="₺" class="slider-price">0</span> <span class="seperator">-</span> <span id="max-price" data-currency="₺" data-max="3500" class="slider-price">3500</span>
                                            </div>
                                        </div>
                                    </div><!-- End .filter-price -->
                                </div><!-- End .widget-body -->
                            </div><!-- End .collapse -->
                        </div><!-- End .widget -->
                    </div><!-- End .sidebar sidebar-shop -->
                </aside><!-- End .col-lg-3 -->
            </div><!-- End .row -->
        </div><!-- End .container -->
    </div><!-- End .page-content -->
</main>

<script>
    $("#slider-range").slider({
        range: true,
        min: 0,
        max: 3500,
        step: 50,
        slide: function (event, ui) {
            $("#min-price").html(ui.values[0]);

            suffix = '';
            if (ui.values[1] == $("#max-price").data('max')) {
                suffix = ' +';
            }
            $("#max-price").html(ui.values[1] + suffix);
        }
    })

</script>

